{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bootcamp\\\\Code_VSC\\\\React\\\\Day41\\\\react-kepo\\\\src\\\\pages\\\\Login\\\\login.js\";\nimport React, { Component } from 'react';\nimport { Button } from \"../../components/Button\";\nimport \"./login.css\";\nimport { Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchDataLogin = (url, inputMethod, dataToObj) => {\n      try {\n        const option = {\n          method: inputMethod,\n          mode: \"cors\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Credentials\": true\n          },\n          body: JSON.stringify(dataToObj)\n        };\n        fetch(\"http://localhost:8887/web/hotel\" + url, option).then(response => response.json()).then(async json => {\n          console.log(\"Login Response : \", json);\n          this.props.setLoginStatus(json);\n        }).catch(err => {\n          this.props.setLoginStatus(err);\n        });\n      } catch (error) {\n        if (error instanceof fetch.AbortError) {\n          console.log(\"Request Was Aborted\");\n        }\n      }\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    this.handleChangeUsername = this.handleChangeUsername.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChangeUsername(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  handleChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.submitFunction(this.state.username, this.state.password);\n  }\n\n  submitFunction(inputUser, inputPassword) {\n    const loginData = {\n      username: inputUser,\n      password: inputPassword\n    };\n    console.log(\"Login User : \", loginData); // this.props.loginRespond(loginData)\n    // this.props.setLoginStatus()\n\n    this.fetchDataLogin(\"/login\", \"post\", loginData); // this.props.setLoginStatus(loginData)\n  }\n\n  render() {\n    if (this.props.loginStat) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 20\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '90vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, \"WELCOME\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, \"Input Username\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        width: \"300px\",\n        height: \"40px\",\n        borderRadius: \"45px\",\n        border: \"1px solid\"\n      },\n      type: \"text\",\n      placeholder: \"   Input Username   \",\n      value: this.state.username,\n      onChange: this.handleChangeUsername,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, \"Input Password\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        width: \"300px\",\n        height: \"40px\",\n        borderRadius: \"45px\",\n        border: \"1px solid\"\n      },\n      type: \"password\",\n      placeholder: \"    Input Password   \",\n      value: this.state.password,\n      onChange: this.handleChangePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, \"Don't have an account ? \", /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 53\n      }\n    }, \"Register Now\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loginStat: state.AuthStat.login_status\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setLoginStatus: user => dispatch({\n    type: \"LOGIN_OK\",\n    userData: user\n  })\n});\n\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["D:/Bootcamp/Code_VSC/React/Day41/react-kepo/src/pages/Login/login.js"],"names":["React","Component","Button","Redirect","connect","Login","constructor","props","fetchDataLogin","url","inputMethod","dataToObj","option","method","mode","headers","body","JSON","stringify","fetch","then","response","json","console","log","setLoginStatus","catch","err","error","AbortError","state","username","password","handleChangeUsername","bind","handleChangePassword","handleSubmit","event","setState","target","value","preventDefault","submitFunction","inputUser","inputPassword","loginData","render","loginStat","display","justifyContent","alignItems","height","width","borderRadius","border","mapStateToProps","AuthStat","login_status","mapDispatchToProps","dispatch","user","type","userData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {Button} from \"../../components/Button\"\r\nimport \"./login.css\"\r\nimport { Redirect } from 'react-router-dom';\r\nimport {connect} from \"react-redux\"\r\n\r\nclass Login extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\"\r\n        }\r\n\r\n        this.handleChangeUsername = this.handleChangeUsername.bind(this)\r\n        this.handleChangePassword = this.handleChangePassword.bind(this)\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n    }\r\n\r\n    handleChangeUsername(event){\r\n        this.setState({ username: event.target.value })\r\n    }\r\n\r\n    handleChangePassword(event){\r\n        this.setState({ password: event.target.value })\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n\r\n        this.submitFunction(\r\n            this.state.username,\r\n            this.state.password\r\n        );\r\n    }\r\n\r\n    submitFunction(inputUser, inputPassword){\r\n        const loginData = {\r\n            username:inputUser,\r\n            password:inputPassword\r\n        }\r\n\r\n        console.log(\"Login User : \", loginData)\r\n        // this.props.loginRespond(loginData)\r\n        // this.props.setLoginStatus()\r\n        this.fetchDataLogin(\"/login\", \"post\", loginData)\r\n        // this.props.setLoginStatus(loginData)\r\n    }\r\n\r\n    fetchDataLogin = (url, inputMethod, dataToObj) => {\r\n        try{\r\n            const option = {\r\n                method: inputMethod,\r\n                mode: \"cors\",\r\n                headers:{ \r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Origin\" : \"*\", \r\n                    \"Access-Control-Allow-Credentials\" : true \r\n                },\r\n                body: JSON.stringify(dataToObj)\r\n            }\r\n    \r\n            fetch(\"http://localhost:8887/web/hotel\" + url, option)\r\n                .then(response => response.json())\r\n                .then(async json => {\r\n                    console.log(\"Login Response : \", json);\r\n                    this.props.setLoginStatus(json)\r\n                })\r\n                .catch(err => {this.props.setLoginStatus(err)})\r\n        } catch (error) {\r\n            if (error instanceof fetch.AbortError) {\r\n                console.log(\"Request Was Aborted\")\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if(this.props.loginStat){\r\n            return <Redirect to=\"/home\" />\r\n        }else{\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        return(\r\n            <div\r\n                style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                height: '90vh'\r\n                }}\r\n            >\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <ul>\r\n                        <li><h1>WELCOME</h1></li>\r\n                        <li><h2>Input Username</h2></li>\r\n                        <li>\r\n                            <input \r\n                            style={{\r\n                                width:\"300px\", \r\n                                height:\"40px\",\r\n                                borderRadius:\"45px\",\r\n                                border:\"1px solid\"\r\n                            }}\r\n                            type=\"text\"\r\n                            placeholder=\"   Input Username   \"\r\n                            value={this.state.username}\r\n                            onChange={this.handleChangeUsername}\r\n                            />\r\n                        </li>\r\n                        <li><h2>Input Password</h2></li>\r\n                        <li>\r\n                            <input \r\n                            style={{\r\n                                width:\"300px\", \r\n                                height:\"40px\",\r\n                                borderRadius:\"45px\",\r\n                                border:\"1px solid\"\r\n                            }}\r\n                            type=\"password\"\r\n                            placeholder=\"    Input Password   \"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChangePassword}\r\n                            />\r\n                        </li>\r\n                        <li><Button>Login</Button></li>\r\n                        <li>Don't have an account ? <a>Register Now</a></li>\r\n                    </ul>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps=state=>({\r\n    loginStat: state.AuthStat.login_status\r\n})\r\n\r\nconst mapDispatchToProps=dispatch=>({\r\n    setLoginStatus: (user) => dispatch({\r\n            type:\"LOGIN_OK\",\r\n            userData: user\r\n    })\r\n})\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}