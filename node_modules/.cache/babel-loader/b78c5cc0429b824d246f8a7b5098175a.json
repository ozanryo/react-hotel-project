{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bootcamp\\\\Code_VSC\\\\React\\\\Day41\\\\react-kepo\\\\src\\\\pages\\\\Profile\\\\profile.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { Redirect } from 'react-router-dom';\nimport \"./profile.css\";\nimport { Button } from \"../../components/Button\";\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.fetchDataLogout = (url, inputMethod, dataToObj) => {\n      try {\n        const option = {\n          method: inputMethod,\n          mode: \"cors\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Credentials\": true\n          },\n          body: JSON.stringify(dataToObj)\n        };\n        fetch(\"http://localhost:8887/web/hotel\" + url, option).then(response => response.json()).then(async json => {\n          console.log(\"Login Response : \", json); // this.props.setLoginStatus(json)\n        }).catch(err => {\n          this.props.setLoginStatus(err);\n        });\n      } catch (error) {\n        if (error instanceof fetch.AbortError) {\n          console.log(\"Request Was Aborted\");\n        }\n      }\n    };\n  }\n\n  logoutUser() {\n    this.props.setLogoutStatus();\n    this.fetchDataLogout(\"/login\", \"post\", this.props.userProfile);\n  }\n\n  render() {\n    if (!this.props.loginStat) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '90vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, \"Profile Page\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 41\n      }\n    }, \"Avatar\")), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 41\n      }\n    }, \"Your Profile\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.props.userProfile.avatar,\n      width: \"150px\",\n      height: \"250px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 45\n      }\n    }, \"Name : \", this.props.userProfile.name), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 45\n      }\n    }, \"Username : \", this.props.userProfile.username), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 45\n      }\n    }, \"Email : \", this.props.userProfile.email), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 45\n      }\n    }, \"Phone : \", this.props.userProfile.phone), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 45\n      }\n    }, \"Address : \", this.props.userProfile.address), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.logoutUser(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 49\n      }\n    }, \"Logout\"))))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loginStat: state.AuthStat.login_status,\n  userProfile: state.AuthStat.userData\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setLogoutStatus: () => dispatch({\n    type: \"LOGOUT_OK\"\n  })\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["D:/Bootcamp/Code_VSC/React/Day41/react-kepo/src/pages/Profile/profile.js"],"names":["React","Component","connect","Redirect","Button","Profile","fetchDataLogout","url","inputMethod","dataToObj","option","method","mode","headers","body","JSON","stringify","fetch","then","response","json","console","log","catch","err","props","setLoginStatus","error","AbortError","logoutUser","setLogoutStatus","userProfile","render","loginStat","display","justifyContent","alignItems","height","avatar","name","username","email","phone","address","mapStateToProps","state","AuthStat","login_status","userData","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport { Redirect } from 'react-router-dom';\r\nimport \"./profile.css\"\r\nimport {Button} from \"../../components/Button\"\r\n\r\nclass Profile extends Component {\r\n\r\n    logoutUser(){\r\n        this.props.setLogoutStatus()\r\n        this.fetchDataLogout(\"/login\", \"post\", this.props.userProfile)\r\n    }\r\n\r\n    fetchDataLogout = (url, inputMethod, dataToObj) => {\r\n        try{\r\n            const option = {\r\n                method: inputMethod,\r\n                mode: \"cors\",\r\n                headers:{ \r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Origin\" : \"*\", \r\n                    \"Access-Control-Allow-Credentials\" : true \r\n                },\r\n                body: JSON.stringify(dataToObj)\r\n            }\r\n    \r\n            fetch(\"http://localhost:8887/web/hotel\" + url, option)\r\n                .then(response => response.json())\r\n                .then(async json => {\r\n                    console.log(\"Login Response : \", json);\r\n                    // this.props.setLoginStatus(json)\r\n                })\r\n                .catch(err => {this.props.setLoginStatus(err)})\r\n        } catch (error) {\r\n            if (error instanceof fetch.AbortError) {\r\n                console.log(\"Request Was Aborted\")\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if(!this.props.loginStat){\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        return(\r\n            <div\r\n            style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                height: '90vh'\r\n                }}\r\n            >\r\n                <ul>\r\n                    <li><h1>Profile Page</h1></li>\r\n                    <li>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th><h2>Avatar</h2></th>\r\n                                    <th><h2>Your Profile</h2></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <img \r\n                                        src={this.props.userProfile.avatar} \r\n                                        width={\"150px\"}\r\n                                        height={\"250px\"}\r\n                                        />\r\n                                    </td>\r\n                                    <td>\r\n                                        <ul>\r\n                                            <li>Name : {this.props.userProfile.name}</li>\r\n                                            <li>Username : {this.props.userProfile.username}</li>\r\n                                            <li>Email : {this.props.userProfile.email}</li>\r\n                                            <li>Phone : {this.props.userProfile.phone}</li>\r\n                                            <li>Address : {this.props.userProfile.address}</li>\r\n                                            <li><Button onClick={()=>this.logoutUser()}>Logout</Button></li>\r\n                                        </ul>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loginStat: state.AuthStat.login_status,\r\n    userProfile: state.AuthStat.userData\r\n})\r\n\r\nconst mapDispatchToProps=dispatch=>({\r\n    setLogoutStatus: () => dispatch({\r\n            type:\"LOGOUT_OK\"\r\n    })\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);"]},"metadata":{},"sourceType":"module"}