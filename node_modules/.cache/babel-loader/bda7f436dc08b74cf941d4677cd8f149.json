{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bootcamp\\\\Code_VSC\\\\React\\\\Day41\\\\react-kepo\\\\src\\\\pages\\\\Order\\\\order.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { Button } from \"../../components/Button\";\n\nclass Order extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.handleChangePhone = event => {\n      this.setState({\n        phone: event.target.value\n      });\n    };\n\n    this.handleChangeHotel = event => {\n      this.setState({\n        hotel: event.target.value\n      });\n    };\n\n    this.handleChangeDate = event => {\n      this.setState({\n        date: event.target.value\n      });\n    };\n\n    this.handleChangeBooking = event => {\n      this.setState({\n        duration: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.submitOrder(this.state.username, this.state.phone, this.state.hotel, this.state.date, this.state.duration);\n    };\n\n    this.fetchDataRegisterOrder = (url, inputMethod, dataToObj) => {\n      try {\n        const option = {\n          method: inputMethod,\n          mode: \"cors\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Credentials\": true\n          },\n          body: JSON.stringify(dataToObj)\n        };\n        fetch(\"http://localhost:8887/web/hotel\" + url, option).then(response => response.json()).then(async json => {\n          console.log(\"Json : \", json); // this.props.fetchDataLogin(json)\n          // const message = json;\n          // console.log(\"Message : \", json.message)\n\n          alert(\"Selamat Anda Sudah memesan, silahkan lunasi pembayaran\");\n        });\n      } catch (error) {\n        if (error instanceof fetch.AbortError) {\n          console.log(\"Request Hotel Data Was Aborted\");\n        }\n      }\n    };\n\n    this.state = {\n      username: \"\",\n      phone: \"\",\n      hotel: \"\",\n      date: \"\",\n      duration: \"\"\n    };\n    this.handleChangeUsername = this.handleChangeUsername.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n    this.handleChangeHotel = this.handleChangeHotel.bind(this);\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.handleChangeBooking = this.handleChangeBooking.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  } // Handle Change\n\n\n  submitOrder(inputUser, inputPhone, inputHotel, inputDate, inputBooking) {\n    const date = new Date(inputDate);\n    const bookDate = date.getDay() + inputBooking;\n    const registerOrder = {\n      username: inputUser,\n      phone: inputPhone,\n      hotel: inputHotel,\n      durasi: inputBooking,\n      tanggalpesan: bookDate\n    };\n    console.log(\"Registered Order : \", registerOrder);\n    this.fetchDataRegisterOrder(registerOrder);\n  }\n\n  getData() {\n    this.setState({\n      username: this.props.orderan.username,\n      phone: this.props.loginUser.phone,\n      hotel: this.props.orderan.hotel\n    });\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    console.log(\"Data Order : \", this.props.orderStat);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '90vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, \"BOOK HOTEL NOW\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"Username : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"nameValue\",\n      placeholder: \"Nama Lengkap\",\n      onChange: this.handleChangeUsername,\n      value: this.props.orderan.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, \"Nomor Telepon : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"phoneValue\",\n      placeholder: \"Nomor Telepon\",\n      onChange: this.handleChangePhone,\n      value: this.props.loginUser.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, \"Nama Hotel : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"hotelValue\",\n      placeholder: \"Alamat Pengguna\",\n      onChange: this.handleChangeHotel,\n      value: this.props.orderan.hotel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }, \"Masukkan Tanggal Booking : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      name: \"dateValue\",\n      onChange: this.handleChangeDate,\n      value: this.state.date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }\n    }, \"Durasi Booking (per malam) : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"numbers\",\n      name: \"bookValue\",\n      placeholder: \"Input lama booking\",\n      onChange: this.handleChangeBooking,\n      value: this.state.duration,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, \"Order\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loginUser: state.AuthStat.userData,\n  orderStat: state.StatusOrder.orderStatus,\n  orderan: state.StatusOrder.orderData\n});\n\nexport default connect(mapStateToProps)(Order);","map":{"version":3,"sources":["D:/Bootcamp/Code_VSC/React/Day41/react-kepo/src/pages/Order/order.js"],"names":["React","Component","connect","Button","Order","constructor","props","handleChangeUsername","event","setState","username","target","value","handleChangePhone","phone","handleChangeHotel","hotel","handleChangeDate","date","handleChangeBooking","duration","handleSubmit","preventDefault","submitOrder","state","fetchDataRegisterOrder","url","inputMethod","dataToObj","option","method","mode","headers","body","JSON","stringify","fetch","then","response","json","console","log","alert","error","AbortError","bind","inputUser","inputPhone","inputHotel","inputDate","inputBooking","Date","bookDate","getDay","registerOrder","durasi","tanggalpesan","getData","orderan","loginUser","componentDidMount","render","orderStat","display","justifyContent","alignItems","height","textAlign","mapStateToProps","AuthStat","userData","StatusOrder","orderStatus","orderData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {Button} from \"../../components/Button\"\r\n\r\nclass Order extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            username: \"\",\r\n            phone: \"\",\r\n            hotel: \"\",\r\n            date: \"\",\r\n            duration:\"\"\r\n        }   \r\n\r\n        this.handleChangeUsername = this.handleChangeUsername.bind(this)\r\n        this.handleChangePhone = this.handleChangePhone.bind(this)\r\n        this.handleChangeHotel = this.handleChangeHotel.bind(this)\r\n        this.handleChangeDate = this.handleChangeDate.bind(this)\r\n        this.handleChangeBooking = this.handleChangeBooking.bind(this)\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n    }\r\n\r\n    // Handle Change\r\n    handleChangeUsername = event => {\r\n        this.setState({username:event.target.value})\r\n    }\r\n    handleChangePhone = event => {\r\n        this.setState({phone:event.target.value})\r\n    }\r\n    handleChangeHotel = event => {\r\n        this.setState({hotel:event.target.value})\r\n    }\r\n    handleChangeDate = event => {\r\n        this.setState({date:event.target.value})\r\n    }\r\n    handleChangeBooking = event => {\r\n        this.setState({duration:event.target.value})\r\n    }\r\n\r\n    // Handle Submit\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        this.submitOrder(\r\n            this.state.username,\r\n            this.state.phone,\r\n            this.state.hotel,\r\n            this.state.date,\r\n            this.state.duration\r\n        )\r\n    }\r\n\r\n    submitOrder(inputUser, inputPhone, inputHotel, inputDate, inputBooking){\r\n        const date = new Date(inputDate);\r\n        const bookDate = date.getDay() + inputBooking;\r\n\r\n        const registerOrder = {\r\n            username: inputUser,\r\n            phone: inputPhone,\r\n            hotel: inputHotel,\r\n            durasi: inputBooking,\r\n            tanggalpesan: bookDate\r\n        }\r\n\r\n        console.log(\"Registered Order : \", registerOrder)\r\n        this.fetchDataRegisterOrder(registerOrder)\r\n\r\n    }\r\n\r\n    fetchDataRegisterOrder = (url, inputMethod, dataToObj) => {\r\n        try{\r\n            const option = {\r\n                method: inputMethod,\r\n                mode: \"cors\",\r\n                headers:{ \r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Origin\" : \"*\", \r\n                    \"Access-Control-Allow-Credentials\" : true \r\n                },\r\n                body: JSON.stringify(dataToObj)\r\n            }\r\n    \r\n            fetch(\"http://localhost:8887/web/hotel\" + url, option)\r\n                .then(response => response.json())\r\n                .then(async json => {\r\n                    console.log(\"Json : \", json);\r\n                    // this.props.fetchDataLogin(json)\r\n                    // const message = json;\r\n    \r\n                    // console.log(\"Message : \", json.message)\r\n                    alert(\"Selamat Anda Sudah memesan, silahkan lunasi pembayaran\")\r\n                })\r\n        } catch (error) {\r\n            if (error instanceof fetch.AbortError) {\r\n                console.log(\"Request Hotel Data Was Aborted\")\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getData(){\r\n        this.setState(\r\n            {\r\n                username: this.props.orderan.username,\r\n                phone: this.props.loginUser.phone,\r\n                hotel: this.props.orderan.hotel,\r\n            }\r\n        )\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getData();\r\n    }\r\n    \r\n\r\n    render(){\r\n        console.log(\"Data Order : \", this.props.orderStat)\r\n        return(\r\n            <div\r\n            style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                height: '90vh'\r\n              }}\r\n            >\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"row-input\">\r\n                        <h1 style={{textAlign:\"center\"}}>BOOK HOTEL NOW</h1>\r\n                    </div>\r\n\r\n                    <div className=\"row-input\">\r\n                        <span className=\"label\">Username : </span>\r\n                        <input type=\"text\" \r\n                        name=\"nameValue\" \r\n                        placeholder=\"Nama Lengkap\"\r\n                        onChange={this.handleChangeUsername}\r\n                        value={this.props.orderan.username}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row-input\">\r\n                        <span className=\"label\">Nomor Telepon : </span>\r\n                        <input type=\"text\" \r\n                        name=\"phoneValue\" \r\n                        placeholder=\"Nomor Telepon\"\r\n                        onChange={this.handleChangePhone}\r\n                        value={this.props.loginUser.phone}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row-input\">\r\n                        <span className=\"label\">Nama Hotel : </span>\r\n                        <input type=\"text\" \r\n                        name=\"hotelValue\" \r\n                        placeholder=\"Alamat Pengguna\" \r\n                        onChange={this.handleChangeHotel}\r\n                        value={this.props.orderan.hotel}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row-input\">\r\n                        <span className=\"label\">Masukkan Tanggal Booking : </span>\r\n                        <input type=\"date\" \r\n                        name=\"dateValue\" \r\n                        onChange={this.handleChangeDate}\r\n                        value={this.state.date}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row-input\">\r\n                        <span className=\"label\">Durasi Booking (per malam) : </span>\r\n                        <input type=\"numbers\" \r\n                        name=\"bookValue\" \r\n                        placeholder=\"Input lama booking\"\r\n                        onChange={this.handleChangeBooking}\r\n                        value={this.state.duration}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row-input\">\r\n                        <Button>Order</Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loginUser: state.AuthStat.userData,\r\n    orderStat: state.StatusOrder.orderStatus,\r\n    orderan: state.StatusOrder.orderData\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(Order);"]},"metadata":{},"sourceType":"module"}